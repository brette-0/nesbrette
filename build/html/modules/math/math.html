<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>math &#8212; nesbrette 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css?v=2bf1fcf8" />
    
    <script src="../../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="memory" href="../memory/memory.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../memory/memory.html" title="memory"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nesbrette 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" accesskey="U"><code class="docutils literal notranslate"><span class="pre">Modules</span></code></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">math</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="math">
<h1><code class="docutils literal notranslate"><span class="pre">math</span></code><a class="headerlink" href="#math" title="Link to this heading">¶</a></h1>
<p>All precomputed solutions are of much relative speed and non-constant width operations incur a ‘performance threshold’ through the Order(sizeof(n)) parameter which may complicate performance evaluation of software in any given state.</p>
<section id="add-int-int-add-memory-with-carry">
<h2><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Add Memory with Carry<a class="headerlink" href="#add-int-int-add-memory-with-carry" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add</span> <span class="n">u32</span><span class="p">:</span> <span class="n">Score</span><span class="p">,</span> <span class="n">u32</span><span class="p">:</span> <span class="n">PentakillScore</span>
</pre></div>
</div>
</section>
<section id="sub-int-int-subtract-memory-with-carry">
<h2><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Subtract Memory with Carry<a class="headerlink" href="#sub-int-int-subtract-memory-with-carry" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span> <span class="n">u32</span><span class="p">:</span> <span class="n">Timer</span><span class="p">,</span> <span class="n">u32</span><span class="p">:</span> <span class="n">FineSecond</span>
</pre></div>
</div>
</section>
<section id="cmult-int-int-constant-multiply">
<h2><code class="docutils literal notranslate"><span class="pre">cmult</span> <span class="pre">int:,</span> <span class="pre">int</span></code> - Constant Multiply<a class="headerlink" href="#cmult-int-int-constant-multiply" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmult</span> <span class="n">u32</span><span class="p">:</span> <span class="n">Damage</span><span class="p">,</span> <span class="mi">5</span>
        <span class="p">;</span> <span class="n">supercharge</span> <span class="n">damage</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Always use <code class="docutils literal notranslate"><span class="pre">cmult</span></code> over <code class="docutils literal notranslate"><span class="pre">mult</span></code> when performing multiplication with a deterministic multiplier as <code class="docutils literal notranslate"><span class="pre">cmult</span></code> is optimised to the extent it <em>cannot</em> be faster with binary long division as all logic is precomputed <strong>unless</strong> you need to multiply against a number larger than what <code class="docutils literal notranslate"><span class="pre">ca65</span></code> can handle. It should be known that a negative multiplier does incur a speed and size penalty.</p>
</div>
</section>
<section id="cdiv-int-int-constant-divide">
<h2><code class="docutils literal notranslate"><span class="pre">cdiv</span> <span class="pre">int:,</span> <span class="pre">int</span></code> - Constant Divide<a class="headerlink" href="#cdiv-int-int-constant-divide" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cdiv</span> <span class="n">u32</span><span class="p">::</span> <span class="n">Power</span><span class="p">,</span> <span class="mi">10</span>
        <span class="p">;</span> <span class="n">some</span> <span class="n">bomb</span> <span class="n">maybe</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is currently <strong>unimplemented</strong></p>
</div>
</section>
<section id="mult-int-int-multiply">
<h2><code class="docutils literal notranslate"><span class="pre">mult</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Multiply<a class="headerlink" href="#mult-int-int-multiply" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mult</span> <span class="n">u32</span><span class="p">:</span> <span class="n">Score</span><span class="p">,</span> <span class="n">u32</span><span class="p">:</span> <span class="n">PentakillScore</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">mult</span></code> uses a <em>very</em> optimised way of performing higher bit math unrolled for differing widths to reduce the amount of Program ROM wasted in which ‘handlers’ are defined based on the types if not already existing that perform positional calls into the ‘body’ that performs the heavy lifting. This means that the less variations of <code class="docutils literal notranslate"><span class="pre">mult</span></code> you use (<code class="docutils literal notranslate"><span class="pre">i8::i8</span></code>, <code class="docutils literal notranslate"><span class="pre">u8::bu8</span></code> etc..) the more Program ROM you save.</p>
</div>
</section>
<section id="div-int-int-multiply">
<h2><code class="docutils literal notranslate"><span class="pre">div</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Multiply<a class="headerlink" href="#div-int-int-multiply" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">div</span> <span class="n">u32</span><span class="p">:</span> <span class="n">Damage</span><span class="p">,</span> <span class="n">u16</span><span class="p">:</span> <span class="n">EnemyArmour</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This hasn’t been developed yet.</p>
</div>
</section>
<section id="sin-gpr-sine-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">sin</span> <span class="pre">gpr</span></code> - Sine of Theta<a class="headerlink" href="#sin-gpr-sine-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sin</span>
</pre></div>
</div>
</section>
<section id="cos-gpr-cosine-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">cos</span> <span class="pre">gpr</span></code> - Cosine of Theta<a class="headerlink" href="#cos-gpr-cosine-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cos</span>
</pre></div>
</div>
</section>
<section id="tan-gpr-tangent-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">tan</span> <span class="pre">gpr</span></code> - Tangent of Theta<a class="headerlink" href="#tan-gpr-tangent-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tan</span>
</pre></div>
</div>
</section>
<section id="sct-gpr-secant-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">sct</span> <span class="pre">gpr</span></code> - Secant of Theta<a class="headerlink" href="#sct-gpr-secant-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sct</span>         <span class="p">;</span> <span class="n">sec</span> <span class="ow">is</span> <span class="n">taken</span> <span class="n">by</span> <span class="n">Set</span> <span class="n">Carry</span>
</pre></div>
</div>
</section>
<section id="cot-gpr-cotangent-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">cot</span> <span class="pre">gpr</span></code> - Cotangent of Theta<a class="headerlink" href="#cot-gpr-cotangent-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cot</span>
</pre></div>
</div>
</section>
<section id="csc-gpr-cosecant-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">csc</span> <span class="pre">gpr</span></code> - Cosecant of Theta<a class="headerlink" href="#csc-gpr-cosecant-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">csc</span>
</pre></div>
</div>
</section>
<section id="asin-gpr-arcsine-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">asin</span> <span class="pre">gpr</span></code> - Arcsine of Theta<a class="headerlink" href="#asin-gpr-arcsine-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asin</span>
</pre></div>
</div>
</section>
<section id="acos-gpr-arcosine-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">acos</span> <span class="pre">gpr</span></code> - Arcosine of Theta<a class="headerlink" href="#acos-gpr-arcosine-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">acos</span>
</pre></div>
</div>
</section>
<section id="atan-gpr-arctangent-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">atan</span> <span class="pre">gpr</span></code> - Arctangent of Theta<a class="headerlink" href="#atan-gpr-arctangent-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atan</span>
</pre></div>
</div>
</section>
<section id="asct-gpr-arcsecant-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">asct</span> <span class="pre">gpr</span></code> - Arcsecant of Theta<a class="headerlink" href="#asct-gpr-arcsecant-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asct</span>
</pre></div>
</div>
</section>
<section id="acot-gpr-arcotangent-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">acot</span> <span class="pre">gpr</span></code> - Arcotangent of Theta<a class="headerlink" href="#acot-gpr-arcotangent-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">acot</span>
</pre></div>
</div>
</section>
<section id="acsc-gpr-arcosecant-of-theta">
<h2><code class="docutils literal notranslate"><span class="pre">acsc</span> <span class="pre">gpr</span></code> - Arcosecant of Theta<a class="headerlink" href="#acsc-gpr-arcosecant-of-theta" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">acsc</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For obvious reasons all <code class="docutils literal notranslate"><span class="pre">trig</span></code> functions require either a Sine or Cosine Table that is at least <code class="docutils literal notranslate"><span class="pre">64</span></code> bytes in size indexed by angles that must be 8bit binary degrees. It is recommended that you include the table that belongs to the instruction you use most.</p>
<p>Choosing to use both <code class="docutils literal notranslate"><span class="pre">cos</span></code> with only a Sine table will only incur minute slowdown, but compared to the speed of the fetching <code class="docutils literal notranslate"><span class="pre">sin</span></code> with a Sine table may be considerable. It should be noted that all trigonometric indentities that are reciprocals or defined by a combination of Sine and Cosine will be fetched with additional slowdown unless their tables is also included.</p>
<p>It should also be noted that Arc Identities require the fraction to be passed as it was fetched (Multiplied by <code class="docutils literal notranslate"><span class="pre">256</span></code>) and will return the angle ‘theta’ in response in an 8bit binary degree respsonse.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">math</span></code></a><ul>
<li><a class="reference internal" href="#add-int-int-add-memory-with-carry"><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Add Memory with Carry</a></li>
<li><a class="reference internal" href="#sub-int-int-subtract-memory-with-carry"><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Subtract Memory with Carry</a></li>
<li><a class="reference internal" href="#cmult-int-int-constant-multiply"><code class="docutils literal notranslate"><span class="pre">cmult</span> <span class="pre">int:,</span> <span class="pre">int</span></code> - Constant Multiply</a></li>
<li><a class="reference internal" href="#cdiv-int-int-constant-divide"><code class="docutils literal notranslate"><span class="pre">cdiv</span> <span class="pre">int:,</span> <span class="pre">int</span></code> - Constant Divide</a></li>
<li><a class="reference internal" href="#mult-int-int-multiply"><code class="docutils literal notranslate"><span class="pre">mult</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Multiply</a></li>
<li><a class="reference internal" href="#div-int-int-multiply"><code class="docutils literal notranslate"><span class="pre">div</span> <span class="pre">int:,</span> <span class="pre">int:</span></code> - Multiply</a></li>
<li><a class="reference internal" href="#sin-gpr-sine-of-theta"><code class="docutils literal notranslate"><span class="pre">sin</span> <span class="pre">gpr</span></code> - Sine of Theta</a></li>
<li><a class="reference internal" href="#cos-gpr-cosine-of-theta"><code class="docutils literal notranslate"><span class="pre">cos</span> <span class="pre">gpr</span></code> - Cosine of Theta</a></li>
<li><a class="reference internal" href="#tan-gpr-tangent-of-theta"><code class="docutils literal notranslate"><span class="pre">tan</span> <span class="pre">gpr</span></code> - Tangent of Theta</a></li>
<li><a class="reference internal" href="#sct-gpr-secant-of-theta"><code class="docutils literal notranslate"><span class="pre">sct</span> <span class="pre">gpr</span></code> - Secant of Theta</a></li>
<li><a class="reference internal" href="#cot-gpr-cotangent-of-theta"><code class="docutils literal notranslate"><span class="pre">cot</span> <span class="pre">gpr</span></code> - Cotangent of Theta</a></li>
<li><a class="reference internal" href="#csc-gpr-cosecant-of-theta"><code class="docutils literal notranslate"><span class="pre">csc</span> <span class="pre">gpr</span></code> - Cosecant of Theta</a></li>
<li><a class="reference internal" href="#asin-gpr-arcsine-of-theta"><code class="docutils literal notranslate"><span class="pre">asin</span> <span class="pre">gpr</span></code> - Arcsine of Theta</a></li>
<li><a class="reference internal" href="#acos-gpr-arcosine-of-theta"><code class="docutils literal notranslate"><span class="pre">acos</span> <span class="pre">gpr</span></code> - Arcosine of Theta</a></li>
<li><a class="reference internal" href="#atan-gpr-arctangent-of-theta"><code class="docutils literal notranslate"><span class="pre">atan</span> <span class="pre">gpr</span></code> - Arctangent of Theta</a></li>
<li><a class="reference internal" href="#asct-gpr-arcsecant-of-theta"><code class="docutils literal notranslate"><span class="pre">asct</span> <span class="pre">gpr</span></code> - Arcsecant of Theta</a></li>
<li><a class="reference internal" href="#acot-gpr-arcotangent-of-theta"><code class="docutils literal notranslate"><span class="pre">acot</span> <span class="pre">gpr</span></code> - Arcotangent of Theta</a></li>
<li><a class="reference internal" href="#acsc-gpr-arcosecant-of-theta"><code class="docutils literal notranslate"><span class="pre">acsc</span> <span class="pre">gpr</span></code> - Arcosecant of Theta</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../memory/memory.html"
                          title="previous chapter"><code class="docutils literal notranslate"><span class="pre">memory</span></code></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/modules/math/math.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../memory/memory.html" title="memory"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nesbrette 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../modules.html" ><code class="docutils literal notranslate"><span class="pre">Modules</span></code></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="docutils literal notranslate"><span class="pre">math</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Brette.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>